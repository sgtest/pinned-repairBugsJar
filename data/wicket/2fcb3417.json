{
  "files": 1, 
  "nb_test": 96, 
  "nb_error": 0, 
  "classification": {
    "singleLine": false
  }, 
  "failing_tests": [
    "resolveRelative1(org.apache.wicket.request.UrlTest): expected:<c/a/b[?]p1=v1> but was:<c/a/b[]p1=v1>", 
    "resolveRelative2(org.apache.wicket.request.UrlTest): expected:<c/a/b[?]p1=v1> but was:<c/a/b[]p1=v1>", 
    "resolveRelative3(org.apache.wicket.request.UrlTest): expected:<a/b[?]p1=v1> but was:<a/b[]p1=v1>", 
    "resolveRelative4(org.apache.wicket.request.UrlTest): expected:<[?]p1=v1> but was:<[]p1=v1>", 
    "resolveRelative_EmptyTrailingSegmentInBase(org.apache.wicket.request.UrlTest): expected:<Home/[?]0-1.ILinkListener-li...> but was:<Home/[]0-1.ILinkListener-li...>", 
    "resolveRelative_EmptyTrailingSegmentInBase2(org.apache.wicket.request.UrlTest): expected:<Home/foo/[?]0-1.ILinkListener-li...> but was:<Home/foo/[]0-1.ILinkListener-li...>", 
    "resolveRelative_NoSegmentsInBase(org.apache.wicket.request.UrlTest): expected:<[?]a=b> but was:<[]a=b>", 
    "resolveRelative_NoSegmentsInBase2(org.apache.wicket.request.UrlTest): expected:<bar/baz[?]a=b> but was:<bar/baz[]a=b>", 
    "resolveRelative_DotFollowedByEmptySegment1(org.apache.wicket.request.UrlTest): expected:<[?]a=b> but was:<[]a=b>", 
    "resolveRelative_DotFollowedByEmptySegment2(org.apache.wicket.request.UrlTest): expected:<bar/[?]a=b> but was:<bar/[]a=b>", 
    "parseAbsoluteUrl(org.apache.wicket.request.UrlTest): expected:<ftp://myhost:8081/[]> but was:<ftp://myhost:8081/[null]>", 
    "render1(org.apache.wicket.request.UrlTest): expected:<foo/b=r/b&z/x%3F[?]a=b&x%3F%264=y%3Dz> but was:<foo/b=r/b&z/x%3F[]a=b&x%3F%264=y%3Dz>", 
    "render2(org.apache.wicket.request.UrlTest): expected:</absolute/url[null]> but was:</absolute/url[]>", 
    "render3(org.apache.wicket.request.UrlTest): expected:<//absolute/url[null]> but was:<//absolute/url[]>", 
    "render4(org.apache.wicket.request.UrlTest): expected:</[null]> but was:</[]>", 
    "render5(org.apache.wicket.request.UrlTest): expected:</foo/bar[?]baz=ban> but was:</foo/bar[]baz=ban>", 
    "parseHttpSlashSlashColon(org.apache.wicket.request.UrlTest): expected:<...bc/http://host:9090/[]> but was:<...bc/http://host:9090/[null]>", 
    "prependLeadingSegments1(org.apache.wicket.request.UrlTest): expected:<x/y/a[]> but was:<x/y/a[null]>", 
    "prependLeadingSegments2(org.apache.wicket.request.UrlTest): expected:<x/a[]> but was:<x/a[null]>", 
    "prependLeadingSegments3(org.apache.wicket.request.UrlTest): expected:<a[]> but was:<a[null]>", 
    "prependLeadingSegments4(org.apache.wicket.request.UrlTest): expected:<x[]> but was:<x[null]>", 
    "removeLeadingSegments1(org.apache.wicket.request.UrlTest): expected:<b[]> but was:<b[null]>", 
    "removeLeadingSegments2(org.apache.wicket.request.UrlTest): expected:<[]> but was:<[null]>", 
    "wicket_5114_allowtoStringFullWhenContainingTwoDots(org.apache.wicket.request.UrlTest): expected:<...ntPoint/whatever.../[]> but was:<...ntPoint/whatever.../[null]>", 
    "encodeNamedParameters(org.apache.wicket.request.mapper.parameter.UrlPathPageParametersEncoderTest): expected:<.../value1/name2/value2[]> but was:<.../value1/name2/value2[null]>", 
    "encodeNamedParametersWithSpecialChars(org.apache.wicket.request.mapper.parameter.UrlPathPageParametersEncoderTest): expected:<...name%E3%84%98/value2[]> but was:<...name%E3%84%98/value2[null]>"
  ], 
  "patch": "diff --git a/wicket-request/src/main/java/org/apache/wicket/request/Url.java b/wicket-request/src/main/java/org/apache/wicket/request/Url.java\nindex c9ddc69..2e24b5c 100755\n--- a/wicket-request/src/main/java/org/apache/wicket/request/Url.java\n+++ b/wicket-request/src/main/java/org/apache/wicket/request/Url.java\n@@ -714,7 +714,12 @@ else if (Strings.isEmpty(protocol) && Strings.isEmpty(host) == false)\n \n \n \t\tresult.append(path);\n-\t\tresult.append(getQueryString(charset));\n+        \n+        final String queryString = getQueryString(charset);\n+        if (queryString != null)\n+        {\n+            result.append('?').append(queryString);\n+        }\n \t\treturn result.toString();\n \t}\n \n", 
  "project": "wicket", 
  "linesAdd": 6, 
  "jira_id": "4664", 
  "nb_skipped": 0, 
  "commit": "2fcb3417", 
  "nb_failure": 26, 
  "linesRem": 1
}